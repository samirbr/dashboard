System.register("app.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <require from="./draggable"></require> <require from="./droppable"></require> <require from="./sortable"></require> <require from="./responsive"></require> <div class="container"> <div class="row" responsive.bind="{ gutter: 5, columnWidth: 200, itemSelector: \'.col-md-4\' }"> <div class="col-md-4" repeat.for="slot of slots" sortable.bind="{ sort: sort, connectWith: \'.col-md-4\', handle: \'.panel-heading\', cancel: \'.panel-body\' }" responsive.bind="{ columnWidth: 200, itemSelector: \'widget\' }"> <div class="panel panel-default widget" repeat.for="widget of slot.widgets"> <div class="panel-heading"> <h3 class="panel-title"></h3> </div> <div class="panel-body"> <div class="widget-body"> <compose view-model="./widgets/${widget.module}" model.bind="widget.config"></compose> </div> </div> </div> </div> </div> </div> </template>')}}}),System.register("app.js",["aurelia-framework","./application-state","../config/widgets.yaml!","bootstrap/css/bootstrap.css!css"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.inject},function(a){c=a.ApplicationState},function(a){d=a["default"]},function(a){}],execute:function(){e=function(){function a(){babelHelpers.classCallCheck(this,a),c.set("tokens",d.global.tokens),this.slots=d.slots}return babelHelpers.createClass(a,[{key:"drag",value:function(a,b){}},{key:"drop",value:function(a,b){}},{key:"sort",value:function(a,b){}}]),a}(),a("App",e)}}}),System.register("draggable.js",["aurelia-framework","jquery","jquery-ui"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.customAttribute,c=a.inject},function(a){d=a["default"]},function(a){}],execute:function(){e=function(){function a(a){babelHelpers.classCallCheck(this,e),this.element=a}babelHelpers.createClass(a,[{key:"unbind",value:function(){d(this.element).draggable("destroy")}},{key:"valueChanged",value:function(a){d(this.element).draggable(a)}}]);var e=a;return a=c(Element)(a)||a,a=b("draggable")(a)||a}(),a("Draggable",e)}}}),System.register("droppable.js",["aurelia-framework","jquery","jquery-ui"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.customAttribute,c=a.inject},function(a){d=a["default"]},function(a){}],execute:function(){e=function(){function a(a){babelHelpers.classCallCheck(this,e),this.element=a}babelHelpers.createClass(a,[{key:"unbind",value:function(){d(this.element).droppable("destroy")}},{key:"valueChanged",value:function(a){d(this.element).droppable(a)}}]);var e=a;return a=c(Element)(a)||a,a=b("droppable")(a)||a}(),a("Droppable",e)}}}),System.register("main.js",["bootstrap"],function(a){"use strict";function b(a){a.use.standardConfiguration().developmentLogging(),a.start().then(function(a){return a.setRoot()})}return a("configure",b),{setters:[function(a){}],execute:function(){}}}),System.register("responsive.js",["aurelia-framework","masonry-layout"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.customAttribute,c=a.inject},function(a){d=a["default"]}],execute:function(){e=function(){function a(a){babelHelpers.classCallCheck(this,d),this.element=a}babelHelpers.createClass(a,[{key:"valueChanged",value:function(a){}}]);var d=a;return a=c(Element)(a)||a,a=b("responsive")(a)||a}(),a("Responsive",e)}}}),System.register("sortable.js",["aurelia-framework","jquery","jquery-ui"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.customAttribute,c=a.inject},function(a){d=a["default"]},function(a){}],execute:function(){e=function(){function a(a){babelHelpers.classCallCheck(this,e),this.element=a}babelHelpers.createClass(a,[{key:"unbind",value:function(){d(this.element).sortable("destroy")}},{key:"valueChanged",value:function(a){d(this.element).sortable(a).disableSelection()}}]);var e=a;return a=c(Element)(a)||a,a=b("sortable")(a)||a}(),a("Sortable",e)}}}),System.register("widgets/chart.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <div ref="chart"></div> </template>')}}}),System.register("widgets/chart.js",["aurelia-framework","../container","aurelia-fetch-client","../application-state","../util"],function(a){"use strict";var b,c,d,e,f,g,h,i;return{setters:[function(a){b=a.inject,c=a.TaskQueue},function(a){d=a.Container},function(a){e=a.HttpClient},function(a){f=a.ApplicationState},function(a){g=a.script}],execute:function(){h="https://www.quandl.com/api/v3/datasets/",i=function(a){function d(a,b){babelHelpers.classCallCheck(this,i),babelHelpers.get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,a),this.taskQueue=b,this.token=f.tokens.quandl}babelHelpers.inherits(d,a),babelHelpers.createClass(d,[{key:"draw",value:function(a){var b={Date:"date",Value:"number"},c={title:a.name,width:this.width,height:this.height},d=new google.visualization.DataTable;a.column_names.forEach(function(a,e){c["${axis[index]}Axis"]={title:a},d.addColumn(b[a],a)}),d.addRows(a.data.map(function(a){var b=babelHelpers.slicedToArray(a,2),c=b[0],d=b[1];return[new Date(c.replace(/-/g,"/")),d]}));var e=new google.visualization.LineChart(this.chart);e.draw(d,c)}},{key:"attached",value:function(){var a=this,b=new e;b.configure(function(a){a.useStandardConfiguration().withDefaults({mode:"cors",headers:{Accept:"application/json"}})}),this.taskQueue.queueMicroTask(function(){var c=a;b.fetch(""+h+a.config.series+"?api_key="+a.token).then(function(a){return a.json()}).then(function(b){g("https://www.gstatic.com/charts/loader.js").then(function(){return new Promise(function(a,b){c.loaded?setTimeout(a):(google.charts.load("current",{packages:["corechart","line"]}),google.charts.setOnLoadCallback(function(){c.loaded=!0,a()}))})}).then(function(){a.draw(b.dataset)})})})}}]);var i=d;return d=b(Element,c)(d)||d}(d),a("Chart",i)}}}),System.register("widgets/city-map.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <div ref="map" style="width:${ width }px;height:${ height }px"> </div> </template>')}}}),System.register("widgets/city-map.js",["aurelia-framework","../container","../application-state","leaflet/dist/leaflet.css!css","leaflet"],function(a){"use strict";var b,c,d,e,f,g;return{setters:[function(a){b=a.inject},function(a){c=a.Container},function(a){d=a.ApplicationState},function(a){},function(a){e=a["default"]}],execute:function(){f="https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png",g=function(a){function c(a){babelHelpers.classCallCheck(this,g),babelHelpers.get(Object.getPrototypeOf(g.prototype),"constructor",this).call(this,a),this.token=d.tokens.mapbox}babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"attached",value:function(){babelHelpers.get(Object.getPrototypeOf(g.prototype),"attached",this).call(this);var a=e.map(this.map).setView([this.config.lat,this.config.lng],this.config.zoom);e.tileLayer(this.url,{maxZoom:18,attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',id:"mapbox.streets"}).addTo(a)}},{key:"url",get:function(){return f+"?access_token="+this.token}}]);var g=c;return c=b(Element)(c)||c}(c),a("CityMap",g)}}}),System.register("widgets/clock.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <div class="row"> <div class="inline"> <iframe type="text/html" frameborder="0" height.bind="height" width.bind="width / 2" src.bind="local"> </iframe> </div> <div class="inline"> <iframe type="text/html" frameborder="0" height.bind="height" width.bind="width / 2" src.bind="other"> </iframe> </div> </div> </template>')}}}),System.register("application-state.js",["util"],function(a){"use strict";var b,c;return{setters:[function(a){b=a.script}],execute:function(){c=function(){function a(){babelHelpers.classCallCheck(this,a)}return babelHelpers.createClass(a,null,[{key:"set",value:function(a,b){this[a]=b}}]),a}(),a("ApplicationState",c)}}}),System.register("widgets/clock.js",["aurelia-framework","aurelia-fetch-client","../container","../application-state"],function(a){"use strict";var b,c,d,e,f,g,h;return{setters:[function(a){b=a.inject},function(a){c=a.HttpClient},function(a){d=a.Container},function(a){e=a.ApplicationState}],execute:function(){f="http://widgets.worldtimeserver.com/Clock.aspx",g="https://maps.googleapis.com/maps/api/geocode/json",h=function(a){function d(a){babelHelpers.classCallCheck(this,h),babelHelpers.get(Object.getPrototypeOf(h.prototype),"constructor",this).call(this,a),this.token=e.tokens.google,this.local="",this.other=""}babelHelpers.inherits(d,a),babelHelpers.createClass(d,[{key:"getUrl",value:function(a,b){return a=encodeURIComponent(a),f+"?theme=Analog&wtsid=US-"+b+"&hex="+this.config.color+"&city="+a+"&size=small"}},{key:"activate",value:function(a){babelHelpers.get(Object.getPrototypeOf(h.prototype),"activate",this).call(this,a),this.other=this.getUrl(this.config.city,this.config.state)}},{key:"bind",value:function(){var a=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){var d=b.coords,e=d.latitude,f=d.longitude,h=g+"?latlng="+e+","+f+"&key="+a.token,i=new c;i.fetch(h).then(function(a){return a.json()}).then(function(b){if("OK"===b.status){var c=void 0,d=void 0;b.results[0].address_components.forEach(function(a){a.types.every(function(a){return["political","locality"].indexOf(a)!==-1})&&(c=a.long_name),a.types.every(function(a){return["political","administrative_area_level_1"].indexOf(a)!==-1})&&(d=a.short_name)}),a.local=a.getUrl(c,d)}})})}}]);var h=d;return d=b(Element)(d)||d}(d),a("Clock",h)}}}),System.register("widgets/daily-photo.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <div class="thumbnail"> <a href.bind="hdurl" target="_blank"> <img height.bind="height" width.bind="width" src.bind="data" alt.bind="title" crossOrigin="Anonymous"> </a> <div class="caption"> <p><span>${title}</span></p> </div> </div> </template>')}}}),System.register("widgets/daily-photo.js",["aurelia-fetch-client","aurelia-framework","../container"],function(a){"use strict";var b,c,d,e,f,g;return{setters:[function(a){b=a.HttpClient},function(a){c=a.inject},function(a){d=a.Container}],execute:function(){e="https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY",f="https://crossorigin.me/",g=function(a){function d(){babelHelpers.classCallCheck(this,g),babelHelpers.get(Object.getPrototypeOf(g.prototype),"constructor",this).apply(this,arguments),this.data=""}babelHelpers.inherits(d,a),babelHelpers.createClass(d,[{key:"attached",value:function(){var a=this;babelHelpers.get(Object.getPrototypeOf(g.prototype),"attached",this).call(this);var c=new b;c.configure(function(a){a.useStandardConfiguration().withDefaults({mode:"cors",headers:{Accept:"application/json"}})}),c.fetch(e).then(function(a){return a.json()}).then(function(b){a.url=""+f+b.url,a.title=b.title,a.hdurl=""+f+b.hdurl,a.toUri(a.url).then(function(b){a.data=b})})}},{key:"toUri",value:function(a){var b=this;return new Promise(function(c,d){var e=new Image;e.setAttribute("crossOrigin","Anonymous"),e.onload=function(a){var d=document.createElement("canvas"),e=d.getContext("2d");d.width=b.width,d.height=this.height*(b.width/this.width),e.drawImage(this,0,0,this.width,this.height,0,0,d.width,d.height),c(d.toDataURL("image/png"))},e.onerror=d,e.src=a})}}]);var g=d;return d=c(Element)(d)||d}(d),a("DailyPhoto",g)}}}),System.register("widgets/daily-quote.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <iframe src.bind="url" width.bind="width" height.bind="height" frameborder="no"></iframe> </template>')}}}),System.register("widgets/daily-quote.js",["aurelia-framework","../container"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.inject},function(a){c=a.Container}],execute:function(){d="http://widget.calendarlabs.com/v1/quot.php",e=function(a){function c(){babelHelpers.classCallCheck(this,e),babelHelpers.get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"url",get:function(){var a={cid:101,c:"random",uid:382043810,l:"en",cbg:"FFFFFF",cb:0,cbc:"000000",cf:"helvetica",cfg:"000000",qfs:"i",qta:"center",tfg:"000000",tfs:"i",afc:"000000",afs:"i"},b=Object.keys(a).map(function(b){return b+"="+a[b]}).join("&");return d+"?"+b}}]);var e=c;return c=b(Element)(c)||c}(c),a("DailyQuote",e)}}}),System.register("widgets/equation.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <div ref="equation"></div> </template>')}}}),System.register("widgets/equation.js",["aurelia-framework","../container","katex/katex/katex.min.css!css","katex"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.inject},function(a){c=a.Container},function(a){},function(a){d=a["default"]}],execute:function(){e=function(a){function c(){babelHelpers.classCallCheck(this,e),babelHelpers.get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"bind",value:function(){d.render(this.config.formula,this.equation)}}]);var e=c;return c=b(Element)(c)||c}(c),a("Equation",e)}}}),System.register("widgets/html-content.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <iframe type="text/html" frameborder="0" height.bind="height" width.bind="width" src.bind="url"> </iframe> </template>')}}}),System.register("widgets/html-content.js",["aurelia-framework","../container"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a.inject},function(a){c=a.Container}],execute:function(){d=function(a){function c(){babelHelpers.classCallCheck(this,d),babelHelpers.get(Object.getPrototypeOf(d.prototype),"constructor",this).apply(this,arguments)}babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"url",get:function(){return this.config.url}}]);var d=c;return c=b(Element)(c)||c}(c),a("HtmlContent",d)}}}),System.register("widgets/stock.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <div ref="stock"></div> </template>')}}}),System.register("util.js",[],function(a){"use strict";function b(a){return new Promise(function(b,c){var d=a.replace(/\W+/g,"_");if(document.body.querySelector('script[name="'+d+'"]'))setTimeout(b);else{var e=document.createElement("script");e.name=d,e.onload=b,e.onerror=c,e.src=a,document.body.appendChild(e)}})}return a("script",b),{setters:[],execute:function(){}}}),System.register("widgets/stock.js",["aurelia-framework","../container","../util"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.inject},function(a){c=a.Container},function(a){d=a.script}],execute:function(){e=function(a){function c(){babelHelpers.classCallCheck(this,e),babelHelpers.get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"attached",value:function(){var a=this;d("https://d33t3vvu2t2yu5.cloudfront.net/tv.js").then(function(){TradingView.gEl=function(a){return"string"==typeof a&&(a=document.getElementById(a)),a},new TradingView.MiniWidget({width:a.width,height:a.height,symbol:a.config.symbol,interval:"D",timezone:"Etc/UTC",theme:"White",style:"1",locale:"en",toolbar_bg:"#f1f3f6",allow_symbol_change:!0,hideideas:!0,show_popup_button:!0,popup_width:"1000",popup_height:"650",no_referral_id:!0,container_id:a.stock})})}}]);var e=c;return c=b(Element)(c)||c}(c),a("Stock",e)}}}),System.register("widgets/weather.html!github:systemjs/plugin-text@0.0.8.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",'<template> <iframe type="text/html" frameborder="0" height.bind="height" width.bind="width" src.bind="url"> </iframe> </template>')}}}),System.register("container.js",["jquery"],function(a){"use strict";var b,c;return{setters:[function(a){b=a["default"]}],execute:function(){c=function(){function a(b){babelHelpers.classCallCheck(this,a),this.element=b}return babelHelpers.createClass(a,[{key:"activate",value:function(a){this.config=a}},{key:"bind",value:function(){}},{key:"attached",value:function(){var a=b(this.element).parent();this.width=a.width(),this.height=a.height()}}]),a}(),a("Container",c)}}}),System.register("widgets/weather.js",["aurelia-framework","../container"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a.inject},function(a){c=a.Container}],execute:function(){d="http://forecast.io/embed/",e=function(a){function c(){babelHelpers.classCallCheck(this,e),babelHelpers.get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"url",get:function(){return d+"#lat="+this.config.lat+"&lon="+this.config.lng+"&name="+this.config.name}}]);var e=c;return c=b(Element)(c)||c}(c),a("Weather",e)}}});